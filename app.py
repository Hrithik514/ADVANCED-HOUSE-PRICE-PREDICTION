import numpy as np
from flask import Flask, request, jsonify, render_template
import pickle

app = Flask(__name__,template_folder='templates')
model = pickle.load(open('model1.pkl', 'rb'))

@app.route('/')
def home():
    return render_template('index.html')

@app.route('/predict',methods=['POST','GET'])
def predict():
    '''
    For rendering results on HTML GUI
    '''
    int_features = [int(x) for x in request.form.values()]
    ab = [56.897260273972606 ,3.0287671232876714 ,3.9852162381896115 ,int_features[0] ,int_features[1] ,1.0965753424657534 ,
          3.591780821917808 ,2.7773972602739727 ,0.0006849315068493151 ,3.0191780821917806 ,2.9376712328767125 ,12.251369863013698 ,2.0315068493150683 ,
          2.0082191780821916 ,0.4931506849315068 ,3.0383561643835617 , 6.100616884148312 ,5.57570134055021 ,1971.2794209428425 ,1984.8657534246574 ,
          1.4102739726027398 ,1.0753424657534247 ,9.624657534246575 ,10.33972602739726 ,1.7732876712328767 ,2.1218547844194835 ,
          3.3958904109589043 ,3.0835616438356164 ,1.3965753424657534 ,4.489041095890411 ,3.934931506849315 ,2.6301369863013697 ,
          4.545890410958904 ,4.447272204345249 ,2.2472602739726026 ,563.7777397260274 ,int_features[2] ,1.0363013698630137 ,
          4.145205479452055 ,0.934931506849315 ,3.6828767123287673 ,1157.0181506849315 ,5.53283436209621 ,int_features[3] ,0.42534246575342466 ,
          0.057534246575342465 ,int_features[4] ,0.38287671232876713 ,np.log(int_features[5]) ,int_features[6] ,3.5116438356164386 ,
          6.51145743636381 ,6.8417808219178085 ,2.8253424657534247 ,4.514383561643836 ,2.7157534246575343 ,0.5316889834745203 ,
          np.log(int_features[7]) ,3.8102739726027397 ,2.856164383561644 ,3.7441598351300516 ,2.9028414118248014 ,1.5657534246575342 ,
          6.321917808219178 ,2007.8157534246575 ,8.639041095890411 ,5.417808219178082]
    final=np.array(ab).reshape(1,67)
    prediction=model.predict(final)


    output = round(prediction[0], 2)

    return render_template('index.html', prediction_text='House price :  $ {}'.format(output))


if __name__ == "__main__":
    app.run(debug=True)





























    
